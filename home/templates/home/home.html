{% extends 'home/base.html' %}
{% load static %}
{% load tags %}
{% block content %}
	<header>
	  <div id="carouselExampleIndicators" class="carousel slide" data-ride="carousel">
		<ol class="carousel-indicators">
		  <li data-target="#carouselExampleIndicators" data-slide-to="0" class="active"></li>
		  <li data-target="#carouselExampleIndicators" data-slide-to="1"></li>
		  <li data-target="#carouselExampleIndicators" data-slide-to="2"></li>
		</ol>
		<div class="carousel-inner" role="listbox">
		  <!-- Slide One - Set the background image for this slide in the line below -->
		  <div class="carousel-item active" style="background-image: url({% static 'img/header-bg.jpg' %})">
			<div class="carousel-caption d-none d-md-block">

			</div>
		  </div>
		  <!-- Slide One - Set the background image for this slide in the line below -->
		  <div class="carousel-item" style="background-image: url({% static 'img/header-bg.jpg' %})">
			<div class="carousel-caption d-none d-md-block">
			  <h3 class="display-4">First Slide</h3>
			  <p class="lead">This is a description for the first slide.</p>
			</div>
		  </div>
		  <!-- Slide One - Set the background image for this slide in the line below -->
		  <div class="carousel-item" style="background-image: url({% static 'img/header-bg.jpg' %})">
			<div class="carousel-caption d-none d-md-block">
			  <h3 class="display-4">First Slide</h3>
			  <p class="lead">This is a description for the first slide.</p>
			</div>
		  </div>

		</div>
		<a class="carousel-control-prev " href="#carouselExampleIndicators" role="button" data-slide="prev">
			  <span class="carousel-control-prev-icon " aria-hidden="true"></span>
			  <span class="sr-only">Previous</span>
		</a>
		<a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
			  <span class="carousel-control-next-icon" aria-hidden="true"></span>
			  <span class="sr-only">Next</span>
		</a>
	  </div>
	</header>

 	<article>
		<div class="jumbotron jumbotron-fluid bg-white container">
			<div>
				<h1 style="color:#2f956d">오늘의 이벤트</h1>
			  <p class="lead">센터에서 진행 중인 이벤트에 참여해보세요.</p>
		  </div>

			<div class="swiper-container" style="height:570px;">
    		<div class="swiper-wrapper">
					{% for center in centers %}
					<div class="swiper-slide">
						<div class="card box-shadow" style="height:560px;">
							<img class="card-img-top" src="{{ center.event.url }}" alt="Card image cap">
							<div class="like-position">
									{% if cart|event_in_cart:center.id %}
									<a href="{% url 'add_to_cart_event' id=center.id %}"><button class="button button-like liked">
										<i class="fa fa-heart"></i>
									</button></a>
									{% else %}
									<a href="{% url 'add_to_cart_event' id=center.id %}"><button class="button button-like">
										<i class="fa fa-heart"></i>
									</button></a>
									{% endif %}
							</div>
							<div class="card-body">
								<h5 class="card-title"><a href="{% url 'center_detail' id=center.id %}"
									class="text-dark">{{ center.name }}</a></h5><br>
								<ul style="list-style:none; padding:0;">
									<li>{{ center.address }}</li>
									<li>{{ center.phone }}</li>
								</ul>
							</div>
							<div class="card-footer">
								<small class="text-muted">#{{ center.type }}</small>
							</div>
							</div>
						</div>
						{% endfor %}
				</div>
				<!-- 네비게이션 -->
				<a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
						<span class="carousel-control-prev-icon " aria-hidden="true"></span>
						<span class="sr-only">Previous</span>
				</a>
				<a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
						<span class="carousel-control-next-icon" aria-hidden="true"></span>
						<span class="sr-only">Next</span>
				</a>
			</div>

			<br><br>
			<div>
			  <h1 style="color:#2f956d">오늘의 센터</h1>
			  <p class="lead">오늘의 추천 센터입니다.</p>
		    </div>
			<div class="swiper-container" style="height:570px;">
    		<div class="swiper-wrapper">
					{% for center in centers %}
					<div class="swiper-slide">
						<div class="card box-shadow" style="height:560px;">
						{% for image in center.center_image.all %}
							<img class="card-img-top" src="{{ image.image1.url }}" alt="Card image cap">
						{% endfor %}
						<div class="like-position">
								{% if cart|center_in_cart:center.id %}
								<a href="{% url 'add_to_cart_center' id=center.id %}"><button class="button button-like liked">
									<i class="fa fa-heart"></i>
								</button></a>
								{% else %}
								<a href="{% url 'add_to_cart_center' id=center.id %}"><button class="button button-like">
									<i class="fa fa-heart"></i>
								</button></a>
								{% endif %}
						</div>
						<div class="card-body">
							<h5 class="card-title"><a href="{% url 'center_detail' id=center.id %}"
								class="text-dark">{{ center.name }}</a></h5><br>
							<ul style="list-style:none; padding:0;">
								<li>{{ center.address }}</li>
								<li>{{ center.phone }}</li>
							</ul>
						</div>
						<div class="card-footer">
							<small class="text-muted">#{{ center.type }}</small>
						</div>
						</div>
					</div>
					{% endfor %}
    		</div>
				<!-- 네비게이션 -->
				<a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
						<span class="carousel-control-prev-icon " aria-hidden="true"></span>
						<span class="sr-only">Previous</span>
				</a>
				<a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
						<span class="carousel-control-next-icon" aria-hidden="true"></span>
						<span class="sr-only">Next</span>
				</a>
			</div>

			<br><br>
			<div>
			  <h1 style="color:#2f956d">원데이 클래스</h1>
			  <p class="lead">단 하루만 진행되는 원데이 클래스, 놓치지 마세요.</p>
		    </div>
			<div class="swiper-container" style="height:570px;">
    		<div class="swiper-wrapper">
					{% for onedayclass in onedayclasses %}
					<div class="swiper-slide">
						<div class="card box-shadow" style="height:560px;">
							<img class="card-img-top" src="{{ onedayclass.image.url }}" alt="Card image cap">
						<div class="like-position">
								{% if cart|onedayclass_in_cart:onedayclass.id %}
								<a href="{% url 'add_to_cart_onedayclass' id=onedayclass.id %}"><button class="button button-like liked">
									<i class="fa fa-heart"></i>
								</button></a>
								{% else %}
								<a href="{% url 'add_to_cart_onedayclass' id=onedayclass.id %}"><button class="button button-like">
									<i class="fa fa-heart"></i>
								</button></a>
								{% endif %}
						</div>
						<div class="card-body">
							<h5 class="card-title"><a href="{% url 'onedayclass_detail' id=onedayclass.id %}"
								 class="text-dark">{{ onedayclass.name }}</a></h5><br>
								<ul style="list-style:none; padding:0;">
								<li>가격: {{ onedayclass.price }}</li>
								<li>일시: {{ onedayclass.date|date:"Y년 m월 d일" }}</li>
								<li>장소: {{ onedayclass.place }}</li>
							</ul>
						</div>
						<div class="card-footer">
							<small class="text-muted">#{{ onedayclass.type }}</small>
						</div>
						</div>
					</div>
					{% endfor %}
    		</div>
				<!-- 네비게이션 -->
				<a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
					  <span class="carousel-control-prev-icon " aria-hidden="true"></span>
					  <span class="sr-only">Previous</span>
				</a>
				<a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
					  <span class="carousel-control-next-icon" aria-hidden="true"></span>
					  <span class="sr-only">Next</span>
				</a>
			</div>
		</div>
		{% if messages %}
		  {% for message in messages %}
		  <script>
		    alert('{{ message }}');
		  </script>
		{% endfor %}
		{% endif %}
	</article>


    <!-- /END THE FEATURETTES -->


  <script type="text/javascript">
    new Swiper('.swiper-container', {

    	slidesPerView : 4, // 동시에 보여줄 슬라이드 갯수
    	spaceBetween : 30, // 슬라이드간 간격
    	slidesPerGroup : 4, // 그룹으로 묶을 수, slidesPerView 와 같은 값을 지정하는게 좋음

    	// 그룹수가 맞지 않을 경우 빈칸으로 메우기
    	// 3개가 나와야 되는데 1개만 있다면 2개는 빈칸으로 채워서 3개를 만듬
    	loopFillGroupWithBlank : true,

    	loop : true, // 무한 반복

    	pagination : { // 페이징
    		el : '.swiper-pagination',
    		clickable : true, // 페이징을 클릭하면 해당 영역으로 이동, 필요시 지정해 줘야 기능 작동
    	},
    	navigation : { // 네비게이션
    		nextEl : '.carousel-control-next', // 다음 버튼 클래스명
    		prevEl : '.carousel-control-prev', // 이번 버튼 클래스명
    	},
    });

    $('.myCarousel').carousel({interval:3000});

  </script>

{% endblock %}
